function onReady(e){var t=window.setInterval(function(){void 0!==document.getElementsByTagName("body")[0]&&(window.clearInterval(t),e.call(this))},1e3)}function setVisible(e,t){document.querySelector(e).style.display=t?"block":"none"}onReady(function(){setVisible(".body-html",!0),setVisible(".slider",!1)});const nama=document.querySelector("#nama"),absen=document.querySelector("#absen"),kelas=document.querySelector("#kelas"),mapel=document.querySelector("#mapel"),tanggal=document.querySelector("#tanggal"),areanulis=document.querySelector("#areanulis"),overlay=document.querySelector(".overlay"),save=document.querySelector("#save"),modal=document.querySelector(".modal"),openSettings=document.querySelector("#settings");let bg,font,margin,gap,fontsize;nama.addEventListener("keyup",function(){txtName=this.value}),areanulis.addEventListener("keyup",function(){txtContent=this.value;let e=document.getElementById("areanulis").value.split(/\r|\r\n|\n/).length;console.log(e),document.querySelector("#line-text").innerText="all line : "+e+",  all word : "+areanulis.value.length,0==areanulis.value.length?(setTimeout(function(){document.querySelector(".ai-text-count").style.display="none",document.querySelector(".ai-text-count").style.animation="bounceInRight 0.5s ease-out"},400),document.querySelector(".ai-text-count").style.animation="bounceOutRight 0.5s ease-out"):document.querySelector(".ai-text-count").style.display="block"}),absen.addEventListener("keyup",function(){txtAbsen=this.value}),kelas.addEventListener("keyup",function(){txtKelas=this.value}),mapel.addEventListener("keyup",function(){txtMapel=this.value}),tanggal.addEventListener("change",function(){txtDate=this.value}),save.addEventListener("click",function(){setTimeout(function(){overlay.style.display="none",modal.style.animation="lightSpeedIn 0.4s ease-out"},300),modal.style.animation="bounceOut 0.4s ease-out"}),openSettings.addEventListener("click",function(){overlay.style.display="block"});let txtDate="",txtName="",txtKelas="",txtMapel="",txtAbsen="",txtContent="",fonts=[{index:0,name:"Gloria Hallelujah  (Recommended)",file:"GloriaHallelujah-Regular.ttf"},{index:1,name:"HandwritingCR 2",file:"HandwritingCR-2.ttf"},{index:2,name:"My HandWriting",file:"My_handwriting.ttf"},{index:3,name:"Shadows Into Light",file:"ShadowsIntoLight-Regular.ttf"},{index:4,name:"My HandSare Holding you",file:"MyHandsareHoldingYou.ttf"}],getFontIndex=()=>{let e=localStorage.getItem("fontIndex");return e?fonts[e]:fonts[0]},fontSizeIndex=localStorage.getItem("fontSizeIndex");function setup(){function e(e){e.matches&&createCanvas(400,674)}createCanvas(600,674),bg=loadImage("img/"+getImageIndex().file),font=loadFont("fonts/"+getFontIndex().file),textFont(font),textSize(fontSizeIndex);var t=window.matchMedia("(max-width: 700px)");function n(e){e.matches&&createCanvas(300,674)}e(t),t.addListener(e);var o=window.matchMedia("(max-width: 425px)");n(o),o.addListener(n)}function draw(){background(bg),margin=20,fill(0,0,0,200),translate(margin-8,4*margin),text(txtName,0,-55),text(txtAbsen,0,-35),text(txtKelas,450,-33),text(txtMapel,250,-33),text(txtDate,450,-50),translate(0,margin+5),text(txtContent,0,-25,580)}document.addEventListener("DOMContentLoaded",e=>{let t=document.getElementById("font"),n="";fonts.forEach((e,t)=>{n+=((e,t)=>{return`<option value="${e}" ${e==getFontIndex().index?"selected":""}>${t}</option>`})(t,e.name)}),t.innerHTML=n});let image=[{index:0,names:"Kertas biasa",file:"hasil.png"},{index:1,names:"Portofolio",file:"portfolio.jpg"}],getImageIndex=()=>{let e=localStorage.getItem("imageIndex");return e?image[e]:image[0]};function downloadCanvas(e,t){var n,o=document.createElement("a");o.download=t,o.href=e.toDataURL(),document.createEvent?((n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(n)):o.fireEvent&&o.fireEvent("onclick")}function fix_dpi(){let e=document.getElementById("defaultCanvas0"),t=window.devicePixelRatio,n={height:()=>+getComputedStyle(e).getPropertyValue("height").slice(0,-2),width:()=>+getComputedStyle(e).getPropertyValue("width").slice(0,-2)};e.setAttribute("width",n.width()*t),e.setAttribute("height",n.height()*t)}document.addEventListener("DOMContentLoaded",e=>{let t=document.getElementById("kertas"),n="";image.forEach((e,t)=>{n+=((e,t)=>{return`<option value="${e}" ${e==getImageIndex().index?"selected":""}>${t}</option>`})(t,e.names)}),t.innerHTML=n});const download=document.querySelector("#download");function closePopup(){document.querySelector(".overlay2").style.display="none"}function submitForm(e){e.preventDefault(),document.querySelector(".overlay2").style.display="block";let t=document.querySelector("#name").value,n=document.querySelector("#email").value,o=document.querySelector("#message").value,a=document.querySelector("#number").value;console.log(t,n,a,o),document.querySelector("#contact-form").reset(),sendEmail(t,n,a,o)}function sendEmail(e,t,n,o){Email.send({Host:"smtp.gmail.com",Username:"necomcersnet@gmail.com",Password:"wfoshlmrfzdjjukq",To:"necomcersnet@gmail.com",From:t,Subject:`${e} mengirim anda pesan!`,Body:`Email : ${t} <br/> Nomor : ${n} <br/> Pesan : ${o} `})}download.addEventListener("submit",function(){var e=prompt("Beri nama tugas anda, sebelum disimpan?");null!==e&&downloadCanvas(document.getElementById("defaultCanvas0"),e+".png")}),document.querySelector("#contact-form").addEventListener("submit",submitForm),"serviceWorker"in navigator&&navigator.serviceWorker.register("serviceworker.js").then(function(e){console.log("Service Worker Registered Successfuly!"),console.log(e)}).catch(function(e){console.log("Service Worker Failed to register!"),console.log(e)});